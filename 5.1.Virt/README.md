# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

1) При аппаратной виртуализации гипервизор работает непосредственно с аппаратным обеспечением и, по сути, выполняет роль ОС. Гипервизор сам отвечает за распределение ресурсов и работу с устройствами. 
Преимущества такого подхода - высокое быстродействие в гостевых ос, поскольку гипервизор может выделять нужные ресурсы и обеспечивать доступ к устройствам ввода-вывода. 
Недостаток - необходимость включать в гипервизор поддержку оборудования (вшивать драйверы), что ограничивает спектр поддерживаемых устройств.
2) При паравиртуализации гипервизор выполняется как процесс в хостовой ОС. Он не может полностью распределять ресурсы, тк ему самому они выделяются хостовой ОС, что приводит к снижению быстродействия.
За ввод-вывод так же отвечает хостовая ОС, поэтому нет проблем с совместимостью и поддержкой устройств, но снижается производительность из-за дополнительной прослойки в виде хостовой ОС
3) При виртуализации на основе ОС виртуальные среды используют ядро хостовой ОС, но собственное окружение в виде набора переменных, библиотек, ПО. Идеально подходит для инкапсуляции приложений со всем необходимым окружением.
Основной недостаток - используется только один тип ОС, собственно, ОС хостовой машины. 

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.

Либо пул физических серверов, объединенных в кластер, либо аппаратная виртуализация, так же в кластере - это обеспечит высокую производительность системы хранения и высокую устойчивость к отказам
- Различные web-приложения.

Виртуализация уровня ОС - для web приложений это позволит обеспечить удобную реализацию конвеера CI/CD, микросервисную архитектуру и оркестрацию для обеспечения масштабируемости и отказоустойчивости
- Windows системы для использования бухгалтерским отделом.

Паравиртуализация - такие системы, как правило, не требовательны к производительности и надежность обеспечивается скорее резервным копированием.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Аппаратная виртуализация - позволяет более оптимально использовать GPU для расчетов.


Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

Hyper-V - идеально подходит для Windows инфраструктуры, хорошая поддержка Linux, Load Balanсer работает с виртуализацией сети Hyper-V, поддерживается репликация виртуальных машин, усть возможность автоматизации резервного копирования с использованием механизма снепшотов.

2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

Xen в режиме аппаратной виртуализации - является высокопроизводительным open source решением, поддержка Linux и Windows гостевых ОС. 

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

Windows Hyper-V Server - бесплатный полностью совместимый с Windows аппаратный гипервизор.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

KVM - является модулем ядра Linux, хорошая поддержка Linux ВМ, возможность автоматизации управления ВМ через libvirt для создания тестовых сред.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Основные проблемы гетерогенной среды виртуализации: ограниченные возможности по перераспределению вычислительных ресурсов, что может привести к их дефициту; для различных систем виртуализации
используются различные инструменты мониторинга, что снижает оперативность реакции на нештатные ситуации; необходима более высокая квалификация администраторов. Для минимизации этих проблем необходимо грамотное планирование и распределение 
вычислительных ресурсов для различных систем виртуализации, применение универсальных систем мониторинга, поддерживающих различные системы виртуализации и типы ОС, повышение квалификации администраторов.
Если бы у меня был выбор, я бы применил гомогенную систему виртуализации для ответственных участков инфраструктуры и не исключил бы применение различных средств виртуализации в малонагруженных и не сильно ответственных сегментах (например бухгалтерия, тестирование), что могло бы упростить обслуживание данных сегментов.